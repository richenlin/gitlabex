# GitLabEx - åŸºäºGitLabæ·±åº¦é›†æˆçš„æ•™è‚²å¢å¼ºå¹³å°è§£å†³æ–¹æ¡ˆ

## é¡¹ç›®æ¦‚è¿°

GitLabExæ˜¯ä¸€ä¸ª**GitLabæ•™è‚²å¢å¼ºå¹³å°**ï¼ŒåŸºäºGitLabç°æœ‰èƒ½åŠ›çš„è½»é‡çº§å¢å¼ºæ–¹æ¡ˆã€‚é‡‡ç”¨Goåç«¯ + Vueå‰ç«¯çš„æŠ€æœ¯æ¶æ„ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ï¼š

- ğŸ”— **æœ€å¤§åŒ–å¤ç”¨GitLabèƒ½åŠ›** - ç”¨æˆ·ç®¡ç†ã€å›¢é˜Ÿåä½œã€æƒé™æ§åˆ¶ã€é¡¹ç›®ç®¡ç†å®Œå…¨ä¾èµ–GitLab
- ğŸ“š **æä¾›æ•™è‚²åœºæ™¯ä¼˜åŒ–** - åŸºäºGitLabåŠŸèƒ½çš„æ•™è‚²å‹å¥½ç•Œé¢å’Œå·¥ä½œæµ
- âœï¸ **é›†æˆOnlyOfficeåä½œç¼–è¾‘** - è¿™æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒå·®å¼‚åŒ–åŠŸèƒ½
- ğŸ¯ **ç®€åŒ–å¤æ‚åº¦** - å‡å°‘70%ä»¥ä¸Šçš„è‡ªå®šä¹‰ä»£ç ï¼Œä¸“æ³¨æ ¸å¿ƒä»·å€¼

## è®¾è®¡ç†å¿µ
- âœ… **GitLab First** - ä¼˜å…ˆä½¿ç”¨GitLabåŸç”ŸåŠŸèƒ½
- âœ… **æ•™è‚²å¢å¼º** - ä¸“æ³¨GitLabåœ¨æ•™è‚²åœºæ™¯çš„ä¼˜åŒ–
- âœ… **è½»é‡é›†æˆ** - æœ€å°åŒ–è‡ªå®šä¹‰é€»è¾‘ï¼Œæœ€å¤§åŒ–APIå¤ç”¨
- âœ… **æ ¸å¿ƒä»·å€¼** - èšç„¦OnlyOfficeé›†æˆå’Œæ•™è‚²UIä¼˜åŒ–

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vue.js å‰ç«¯     â”‚    â”‚  Go åç«¯æœåŠ¡     â”‚    â”‚   GitLab CE     â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ - æ•™è‚²UIé—¨æˆ·     â”‚â—„â”€â”€â–ºâ”‚ - GitLab API    â”‚â—„â”€â”€â–ºâ”‚ - ç”¨æˆ·ç®¡ç†       â”‚
â”‚ - OnlyOffice    â”‚    â”‚ - OnlyOffice    â”‚    â”‚ - å›¢é˜Ÿç®¡ç†       â”‚
â”‚ - ç®€åŒ–ç•Œé¢       â”‚    â”‚ - è½»é‡ä¸šåŠ¡é€»è¾‘    â”‚    â”‚ - æƒé™æ§åˆ¶       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - é¡¹ç›®ç®¡ç†       â”‚
         â”‚                       â”‚            â”‚ - ä»£ç ç®¡ç†       â”‚
         â”‚                       â”‚            â”‚ - Wikiæ–‡æ¡£       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   æ•°æ®å±‚         â”‚
                    â”‚                 â”‚
                    â”‚ - PostgreSQL    â”‚  (ä»…å­˜å‚¨å¿…è¦çš„ä¸šåŠ¡æ•°æ®)
                    â”‚ - Redis         â”‚  (ç¼“å­˜GitLab APIæ•°æ®)
                    â”‚ - OnlyOffice    â”‚  (æ–‡æ¡£åä½œæœåŠ¡)
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **è¯­è¨€**: Go 1.21+
- **Webæ¡†æ¶**: Gin
- **æ•°æ®åº“**: PostgreSQL 15+ (æç®€åŒ–æ•°æ®æ¨¡å‹)
- **ç¼“å­˜**: Redis 7+ (ä¸»è¦ç¼“å­˜GitLab APIæ•°æ®)
- **GitLabé›†æˆ**: GitLab API v4
- **æ–‡æ¡£æœåŠ¡**: OnlyOffice Document Server
- **å®¹å™¨åŒ–**: Docker & Docker Compose

#### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Vue 3.4+
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UIç»„ä»¶åº“**: Element Plus
- **æ–‡æ¡£ç¼–è¾‘å™¨**: OnlyOffice Document Server
- **å®æ—¶é€šä¿¡**: WebSocket (åŸºäºGitLab Webhook)

## ç³»ç»Ÿæµç¨‹è®¾è®¡

### OAuthç™»å½•æµç¨‹

ç³»ç»Ÿç™»å½•æµç¨‹å®Œå…¨åŸºäºGitLab OAuth2.0ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. **ç™»å½•æ€æ£€æŸ¥**
   - ç³»ç»Ÿé™¤éƒ¨åˆ†ç‰¹æ®Šé¡µé¢ï¼ˆç™»å½•ã€å¸®åŠ©ç­‰ï¼‰å¤–ï¼Œå…¶ä»–é¡µé¢å‡æ£€æŸ¥ç™»å½•æ€
   - é€šè¿‡JWT Tokenå’ŒGitLab APIéªŒè¯ç”¨æˆ·èº«ä»½

2. **ç™»å½•è·³è½¬**
   - æœªç™»å½•ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°loginé¡µé¢
   - ç”¨æˆ·ç‚¹å‡»"é€šè¿‡GitLabç™»å½•"æŒ‰é’®ï¼Œå¯åŠ¨OAuthæµç¨‹

3. **GitLab OAuthæµç¨‹**
   - è·³è½¬åˆ°GitLabç™»å½•é¡µé¢è¿›è¡Œè®¤è¯
   - ç”¨æˆ·ç™»å½•æˆåŠŸåï¼ŒGitLabå›è°ƒåˆ°ç³»ç»ŸæŒ‡å®šURL
   - ç³»ç»Ÿè·å–æˆæƒç ï¼Œæ¢å–è®¿é—®ä»¤ç‰Œ
   - è‡ªåŠ¨è·³è½¬å›ç³»ç»Ÿé¦–é¡µï¼ˆä»ªè¡¨ç›˜ï¼‰

4. **ç”¨æˆ·ä¿¡æ¯åŒæ­¥**
   - è·å–GitLabç”¨æˆ·ä¿¡æ¯å¹¶åŒæ­¥åˆ°æœ¬åœ°
   - å»ºç«‹ç”¨æˆ·ä¼šè¯ï¼Œè®¾ç½®JWT Token
   - ç¼“å­˜ç”¨æˆ·æƒé™ä¿¡æ¯

### æƒé™ç³»ç»Ÿè®¾è®¡

#### è§’è‰²å®šä¹‰
- **ç®¡ç†å‘˜ï¼ˆAdminï¼‰**: å¯ä»¥çœ‹åˆ°æ‰€æœ‰æ•°æ®ï¼Œç®¡ç†ç³»ç»Ÿè®¾ç½®
- **è€å¸ˆï¼ˆTeacherï¼‰**: å¯ä»¥åˆ›å»ºå¹¶ç®¡ç†ç­çº§å’Œè¯¾é¢˜ï¼Œç®¡ç†å­¦ç”Ÿ
- **å­¦ç”Ÿï¼ˆStudentï¼‰**: å¯ä»¥å‚ä¸ç­çº§å’Œè¯¾é¢˜ï¼Œæäº¤ä½œä¸š
- **è®¿å®¢ï¼ˆGuestï¼‰**: æ— æ³•è¿›å…¥ç³»ç»Ÿ

#### æƒé™æ§åˆ¶è§„åˆ™

1. **ç¬¬ä¸‰æ–¹APIè®¿é—®**
   - å¢åŠ ç”¨æˆ·ã€ç­çº§å’Œè§’è‰²ç®¡ç†çš„APIæ¥å£
   - ç¬¬ä¸‰æ–¹ç³»ç»Ÿä½¿ç”¨OAuthè·å–tokenï¼Œèƒ½å¤Ÿè°ƒç”¨è¿™äº›API
   - å®ç°åŸºäºJWTçš„APIè®¿é—®æ§åˆ¶

2. **æ•™å¸ˆæƒé™**
   - å¯ä»¥åˆ›å»ºå¹¶ç®¡ç†ç­çº§ï¼ˆGitLab Groupï¼‰
   - å¯ä»¥æ–°å»ºå¹¶ç®¡ç†è¯¾é¢˜
   - å¯ä»¥æ·»åŠ å­¦ç”Ÿåˆ°ç­çº§æˆ–è¯¾é¢˜
   - å¯ä»¥æŸ¥çœ‹å’Œç®¡ç†ç­çº§å†…å­¦ç”Ÿçš„å­¦ä¹ è¿›åº¦
   - å¯ä»¥å®¡æ ¸å­¦ç”Ÿä½œä¸šå¹¶ç”ŸæˆæŠ¥å‘Š
   - åªèƒ½çœ‹åˆ°è‡ªå·±çš„ç­çº§å’Œè‡ªå·±ç­çº§çš„è¯¾é¢˜

3. **å­¦ç”Ÿæƒé™**
   - åªèƒ½åŠ å…¥ç­çº§æˆ–è¢«è€å¸ˆæ·»åŠ è¿›ç­çº§
   - åªèƒ½å‚åŠ è¯¾é¢˜æˆ–è¢«è€å¸ˆæ·»åŠ å…¥è¯¾é¢˜
   - å¯ä»¥é’ˆå¯¹è¯¾é¢˜å®Œæˆä½œä¸š
   - åªèƒ½çœ‹åˆ°è‡ªå·±çš„ç­çº§å’Œè‡ªå·±åŠ å…¥çš„è¯¾é¢˜
   - åªèƒ½æŸ¥çœ‹è‡ªå·±çš„ä½œä¸šå’Œæˆç»©

4. **ä½œä¸šæµç¨‹æƒé™**
   - å­¦ç”Ÿå®Œæˆä½œä¸šåï¼Œè‡ªåŠ¨å‘é€é€šçŸ¥ç»™è¯¾é¢˜åˆ›å»ºè€å¸ˆ
   - è€å¸ˆé€šè¿‡å­¦ä¹ è¿›åº¦è·Ÿè¸ªå­¦ç”Ÿå®Œæˆè¯¾é¢˜ä½œä¸šçš„æƒ…å†µ
   - å­¦ç”Ÿå®Œæˆä½œä¸šåï¼Œè€å¸ˆç»™å‡ºè¯„å®¡å¹¶ç”Ÿæˆä½œä¸šæŠ¥å‘Š
   - è¯„å®¡å®Œæˆåï¼Œå‘é€é€šçŸ¥ç»™å­¦ç”Ÿ

## åŠŸèƒ½æ¨¡å—è®¾è®¡

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å— - å®Œå…¨åŸºäºGitLab

#### åŠŸèƒ½ç‰¹æ€§
- âœ… GitLab OAuth2.0ç™»å½•ï¼ˆæ— éœ€è‡ªå®šä¹‰è®¤è¯ï¼‰
- âœ… ç”¨æˆ·ä¿¡æ¯åŒæ­¥ï¼ˆä»GitLab APIè·å–ï¼‰
- âœ… è§’è‰²æ˜ å°„ï¼ˆGitLabæƒé™ -> æ•™è‚²è§’è‰²ï¼‰
- âœ… ç”¨æˆ·èµ„æ–™å±•ç¤ºï¼ˆGitLabç”¨æˆ·èµ„æ–™ï¼‰
- âœ… ç¬¬ä¸‰æ–¹APIè®¿é—®æ§åˆ¶

### 2. è¯¾é¢˜ç®¡ç†æ¨¡å— - åŸºäºGitLabé¡¹ç›®

#### åŠŸèƒ½ç‰¹æ€§
- âœ… **è¯¾é¢˜å³Gitä»“åº“**ï¼šç³»ç»Ÿçš„è¯¾é¢˜ä»¥git repoå½¢å¼å­˜åœ¨
- âœ… **è¯¾é¢˜ä¿¡æ¯ç®¡ç†**ï¼šè¯¾é¢˜åå°±æ˜¯repoçš„æ ‡é¢˜ï¼Œè¯¾é¢˜ä»‹ç»å°±æ˜¯repoçš„readme
- âœ… **è‡ªåŠ¨ä»“åº“åˆ›å»º**ï¼šè¯¾é¢˜åˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºGitLabä»“åº“
- âœ… **å­¦ç”Ÿåˆ†æ”¯ç®¡ç†**ï¼šå­¦ç”Ÿå‚ä¸è¯¾é¢˜æ—¶è‡ªåŠ¨åˆ›å»ºä¸ªäººåˆ†æ”¯
- âœ… **æƒé™åŒæ­¥**ï¼šè¯¾é¢˜æƒé™ä¸GitLabé¡¹ç›®æƒé™å®Œå…¨åŒæ­¥
- **ç»Ÿè®¡åˆ†æ**ï¼šè€å¸ˆå’Œå­¦ç”Ÿæ ¹æ®è‡ªèº«æƒé™æŸ¥çœ‹ç»Ÿè®¡ä¿¡æ¯ï¼ˆå‚ä¸çš„è¯é¢˜ã€ä½œä¸šçš„å®Œæˆè¯„ä»·ã€ä½œä¸šåˆ†æç­‰ç­‰ï¼‰

#### å­¦ç”Ÿä½œä¸šæäº¤æµç¨‹
1. **åˆ†æ”¯åˆ›å»º**ï¼šå­¦ç”ŸåŠ å…¥è¯¾é¢˜æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨åœ¨å¯¹åº”çš„Gitä»“åº“ä¸‹åˆ›å»ºå­¦ç”Ÿä¸ªäººåˆ†æ”¯
2. **ä½œä¸šæäº¤**ï¼šå­¦ç”Ÿæäº¤ä½œä¸šå°±æ˜¯åœ¨ä¸ªäººåˆ†æ”¯ä¸‹æäº¤ä»£ç å’Œé™„ä»¶
3. **å†…å®¹ç®¡ç†**ï¼šæ”¯æŒä»£ç æ–‡ä»¶ã€æ–‡æ¡£é™„ä»¶ç­‰å¤šç§ç±»å‹æ–‡ä»¶æäº¤
4. **ç‰ˆæœ¬æ§åˆ¶**ï¼šåˆ©ç”¨GitåŸç”ŸåŠŸèƒ½å®ç°ä½œä¸šç‰ˆæœ¬ç®¡ç†

### 3. åä½œäº¤æµæ¨¡å— - åŸºäºGitLabåŸç”ŸåŠŸèƒ½

#### è®¨è®ºåŠŸèƒ½
- âœ… **Issuesè®¨è®º**ï¼šè¯¾é¢˜å¯ä»¥è®¨è®ºï¼Œè®¨è®ºä»¥issuesæ–¹å¼ç»„ç»‡
- âœ… **è¯é¢˜ç®¡ç†**ï¼šå­¦ç”Ÿå¯ä»¥æ–°å¢å’Œè¯„è®ºè¯é¢˜ï¼Œç¼–è¾‘ã€åˆ é™¤è‡ªå·±çš„è¯é¢˜
- âœ… **æ•™å¸ˆç®¡ç†**ï¼šè€å¸ˆå¯ä»¥ç®¡ç†è‡ªå·±ç­çº§å­¦ç”Ÿçš„è¯é¢˜è®¨è®º

#### é€šçŸ¥ç³»ç»Ÿ
- âœ… **GitLabé›†æˆ**ï¼šå…¬å‘Šç³»ç»Ÿåˆ©ç”¨GitLabçš„é¡¹ç›®é€šçŸ¥æœºåˆ¶
- âœ… **è‡ªåŠ¨é€šçŸ¥**ï¼šå‚ä¸repoåç›¸å…³äººå‘˜ä¼šæ”¶åˆ°äº¤äº’é€šçŸ¥
- âœ… **äº‹ä»¶é©±åŠ¨**ï¼šåŸºäºGitLab Webhookå®ç°å®æ—¶é€šçŸ¥

### 4. æ–‡æ¡£ç®¡ç†æ¨¡å— - GitLab Wiki + OnlyOffice

#### åŠŸèƒ½ç‰¹æ€§
- âœ… **åŸºäºGitLab Wiki**ï¼šæ–‡æ¡£ç®¡ç†ä½¿ç”¨GitLabçš„wikiå®ç°
- âœ… **æƒé™æ§åˆ¶**ï¼šæ–‡æ¡£æƒé™å®Œå…¨åŸºäºGitLabé¡¹ç›®Wikiæƒé™
- âœ… **é™„ä»¶æ”¯æŒ**ï¼šæ”¯æŒæ–‡æ¡£é™„ä»¶ä¸Šä¼ ï¼ˆWordã€Excelã€PowerPointç­‰ï¼‰
- âœ… **OnlyOfficeé›†æˆ**ï¼šå…·æœ‰Wikiæƒé™çš„æˆå‘˜å¯ä»¥ä½¿ç”¨OnlyOfficeç¼–è¾‘æ–‡æ¡£é™„ä»¶
- âœ… **ç‰ˆæœ¬æ§åˆ¶**ï¼šæ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶ä½¿ç”¨GitLabåŸç”ŸåŠŸèƒ½

#### æƒé™ç®¡ç†
- **å­¦ç”Ÿæƒé™**ï¼šå¯ä»¥æ–°å»ºã€ç®¡ç†è‡ªå·±çš„æ–‡æ¡£
- **æ•™å¸ˆæƒé™**ï¼šå¯ä»¥ç®¡ç†è‡ªå·±ç­çº§å­¦ç”Ÿçš„æ–‡æ¡£
- **æŸ¥çœ‹æƒé™**ï¼šå­¦ç”Ÿå¯ä»¥æŸ¥çœ‹å…¶ä»–äººçš„æ–‡æ¡£ï¼ˆåŸºäºGitLabæƒé™ï¼‰
- **ç­çº§ç®¡ç†**ï¼šä»…è€å¸ˆå¯è§ï¼Œç®¡ç†ç­çº§å’Œå­¦ç”Ÿï¼ˆåŸºäºGitLab Groupå®ç°ï¼‰

## å‰ç«¯ç•Œé¢è®¾è®¡

### æ•´ä½“å¸ƒå±€
- **é¡¶éƒ¨æ **ï¼šç”¨æˆ·èœå•ã€å…¬å‘Šé€šçŸ¥ã€ç³»ç»Ÿå¯¼èˆª
- **å·¦ä¾§èœå•**ï¼šåŠŸèƒ½æ¨¡å—å¯¼èˆª
- **ä¸­é—´å†…å®¹åŒºåŸŸ**ï¼šä¸»è¦åŠŸèƒ½å±•ç¤ºåŒºåŸŸ
- **é‡‡ç”¨é€šç”¨çš„åå°ç®¡ç†é£æ ¼**

### é¡¶éƒ¨æ è®¾è®¡

#### å…¬å‘Šé€šçŸ¥åŠŸèƒ½
1. **å…¬å‘Šå…¥å£**ï¼šç”¨æˆ·èœå•å·¦ä¾§å¢åŠ å…¬å‘ŠæŒ‰é’®
2. **æœªè¯»æç¤º**ï¼šå¦‚æœæ”¶åˆ°æ–°çš„å…¬å‘Šï¼Œæ˜¾ç¤ºçº¢è‰²è§’æ ‡æç¤ºï¼ˆæœªè¯»å…¬å‘Šæ•°é‡ï¼‰
3. **å…¬å‘Šç®¡ç†**ï¼š
   - ç‚¹å‡»å…¬å‘Šèœå•ï¼Œæ‰“å¼€å…¬å‘Šç®¡ç†é¡µé¢
   - è·å–å…¬å‘Šåˆ—è¡¨æ•°æ®
   - ç‚¹å‡»åˆ—è¡¨æ ‡é¢˜æ˜¾ç¤ºå…¬å‘Šè¯¦æƒ…
   - å…¬å‘Šé˜…è¯»åï¼ŒçŠ¶æ€å˜æˆå·²è¯»
   - æ‰€æœ‰å…¬å‘Šå·²è¯»åï¼Œé¡¶æ è§’æ ‡æ¶ˆå¤±

### å·¦ä¾§èœå•è®¾è®¡

#### èœå•ç»“æ„
- **é¦–é¡µï¼ˆä»ªè¡¨ç›˜ï¼‰**ï¼šä½œä¸ºç³»ç»Ÿé¦–é¡µï¼Œå±•ç¤ºæ¦‚è§ˆä¿¡æ¯
- **ç­çº§ç®¡ç†**ï¼šä»…è€å¸ˆå¯è§ï¼Œç®¡ç†ç­çº§å’Œå­¦ç”Ÿ
- **è¯¾é¢˜ç®¡ç†**ï¼šè€å¸ˆå’Œå­¦ç”Ÿå¯è§ï¼Œç®¡ç†è¯¾é¢˜é¡¹ç›®
- **ä½œä¸šç®¡ç†**ï¼šè€å¸ˆå’Œå­¦ç”Ÿå¯è§ï¼Œä½œä¸šæäº¤å’Œè¯„å®¡
- **ç»Ÿè®¡åˆ†æ**ï¼šè€å¸ˆå’Œå­¦ç”Ÿå¯è§ï¼Œå­¦ä¹ æ•°æ®åˆ†æ
- **æ–‡æ¡£ç®¡ç†**ï¼šè€å¸ˆå’Œå­¦ç”Ÿå¯è§ï¼ŒWikiæ–‡æ¡£ç®¡ç†
- **è¯é¢˜è®¨è®º**ï¼šè€å¸ˆå’Œå­¦ç”Ÿå¯è§ï¼ŒGitLabè®¨è®ºåŠŸèƒ½

### æ ¸å¿ƒé¡µé¢è®¾è®¡

#### 1. ç­çº§ç®¡ç†é¡µé¢
- **åŠŸèƒ½å®šä½**ï¼šå±•ç°ç­çº§åˆ—è¡¨ï¼Œè€å¸ˆä¸“ç”¨é¡µé¢
- **ä¸»è¦åŠŸèƒ½**ï¼š
  - è€å¸ˆå¯ä»¥ç®¡ç†ç»´æŠ¤ç­çº§ä¿¡æ¯
  - æ–°å¢å­¦ç”Ÿåˆ°ç­çº§
  - å°†ç°æœ‰å­¦ç”ŸåŠ å…¥åˆ°ç­çº§
  - ç­çº§æˆå‘˜ç®¡ç†å’Œæƒé™åˆ†é…

#### 2. è¯¾é¢˜ç®¡ç†é¡µé¢
- **æ•™å¸ˆè§†å›¾**ï¼š
  - ç®¡ç†ç»´æŠ¤è‡ªå·±åˆ›å»ºçš„è¯¾é¢˜åˆ—è¡¨
  - æ·»åŠ å­¦ç”Ÿå‚ä¸è¯¾é¢˜
  - æŸ¥çœ‹è¯¾é¢˜è¿›åº¦å’Œç»Ÿè®¡
- **å­¦ç”Ÿè§†å›¾**ï¼š
  - æŸ¥çœ‹è‡ªå·±å‚ä¸çš„è¯¾é¢˜
  - è®¿é—®è¯¾é¢˜è¯¦æƒ…é¡µé¢
- **è¯¾é¢˜è¯¦æƒ…**ï¼šç‚¹å‡»è¯¾é¢˜æŸ¥çœ‹è¯¾é¢˜è¯¦æƒ…ï¼ˆå¯¹åº”GitLab repoé¡µé¢ï¼‰

#### 3. ä½œä¸šç®¡ç†é¡µé¢
- **æäº¤åŠŸèƒ½**ï¼šå­¦ç”Ÿæäº¤ä½œä¸šåˆ°ä¸ªäººåˆ†æ”¯
- **å®¡æ ¸åŠŸèƒ½**ï¼šè€å¸ˆæŸ¥çœ‹å’Œè¯„å®¡å­¦ç”Ÿä½œä¸š
- **è¿›åº¦è·Ÿè¸ª**ï¼šå®æ—¶æ˜¾ç¤ºä½œä¸šå®ŒæˆçŠ¶æ€
- **é€šçŸ¥æœºåˆ¶**ï¼šä½œä¸šçŠ¶æ€å˜æ›´è‡ªåŠ¨é€šçŸ¥ç›¸å…³äººå‘˜

#### 4. æ–‡æ¡£ç®¡ç†é¡µé¢
- **æ•™å¸ˆæƒé™**ï¼š
  - ç®¡ç†è‡ªå·±çš„æ–‡æ¡£
  - ç®¡ç†è‡ªå·±ç­çº§ä¸‹æ‰€æœ‰å­¦ç”Ÿçš„æ–‡æ¡£
- **å­¦ç”Ÿæƒé™**ï¼š
  - ç®¡ç†è‡ªå·±çš„æ–‡æ¡£
  - æŸ¥çœ‹å…¶ä»–äººçš„æ–‡æ¡£ï¼ˆåŸºäºæƒé™ï¼‰
- **ç¼–è¾‘åŠŸèƒ½**ï¼šé›†æˆOnlyOfficeå®ç°åœ¨çº¿ç¼–è¾‘

#### 5. è¯é¢˜è®¨è®ºé¡µé¢
- **åŠŸèƒ½å®šä½**ï¼šåŸºäºGitLab Discussionså®ç°è¯é¢˜è®¨è®º
- **ä¿æŒGitLab Discussionsé¡µé¢è®¾è®¡**
- **ç•Œé¢ä¸­æ–‡åŒ–**ï¼šä½¿ç”¨ä¸­æ–‡ç•Œé¢å’Œæç¤º
- **æƒé™æ§åˆ¶**ï¼šåŸºäºç”¨æˆ·è§’è‰²æ˜¾ç¤ºä¸åŒæ“ä½œæƒé™

## å‰ç«¯æ¶æ„è®¾è®¡

### Vueåº”ç”¨ç»“æ„

```
src/
â”œâ”€â”€ components/           # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ OnlyOfficeEditor/ # OnlyOfficeç¼–è¾‘å™¨é›†æˆ
â”‚   â”œâ”€â”€ GitLabWidget/     # GitLabç»„ä»¶å°è£…
â”‚   â”œâ”€â”€ EducationUI/      # æ•™è‚²åœºæ™¯UIç»„ä»¶
â”‚   â”œâ”€â”€ NotificationBell/ # å…¬å‘Šé€šçŸ¥ç»„ä»¶
â”‚   â””â”€â”€ Common/          # é€šç”¨ç»„ä»¶
â”œâ”€â”€ views/               # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ Dashboard/       # ä»ªè¡¨æ¿ï¼ˆç³»ç»Ÿé¦–é¡µï¼‰
â”‚   â”œâ”€â”€ Classes/         # ç­çº§ç®¡ç†
â”‚   â”œâ”€â”€ Projects/        # è¯¾é¢˜ç®¡ç†
â”‚   â”œâ”€â”€ Assignments/     # ä½œä¸šç®¡ç†
â”‚   â”œâ”€â”€ Documents/       # æ–‡æ¡£ç®¡ç†ï¼ˆGitLab Wiki + OnlyOfficeï¼‰
â”‚   â”œâ”€â”€ Analytics/       # ç»Ÿè®¡åˆ†æ
â”‚   â”œâ”€â”€ Notifications/   # å…¬å‘Šç®¡ç†
â”‚   â””â”€â”€ Discussions/     # è¯é¢˜è®¨è®º
â”œâ”€â”€ stores/              # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ auth.js          # è®¤è¯çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ gitlab.js        # GitLab APIçŠ¶æ€
â”‚   â”œâ”€â”€ onlyoffice.js    # OnlyOfficeçŠ¶æ€
â”‚   â”œâ”€â”€ notifications.js # é€šçŸ¥çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ education.js     # æ•™è‚²åœºæ™¯çŠ¶æ€
â”œâ”€â”€ services/            # APIæœåŠ¡
â”‚   â”œâ”€â”€ gitlab.js        # GitLab APIå°è£…
â”‚   â”œâ”€â”€ onlyoffice.js    # OnlyOffice APIå°è£…
â”‚   â”œâ”€â”€ auth.js          # è®¤è¯æœåŠ¡
â”‚   â””â”€â”€ education.js     # æ•™è‚²ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ router/              # è·¯ç”±ç®¡ç†
â”‚   â”œâ”€â”€ index.js         # ä¸»è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ guards.js        # è·¯ç”±å®ˆå«ï¼ˆæƒé™æ£€æŸ¥ï¼‰
â”‚   â””â”€â”€ routes.js        # è·¯ç”±å®šä¹‰
â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
    â”œâ”€â”€ auth.js          # GitLab OAuthè®¤è¯
    â”œâ”€â”€ permission.js    # æƒé™å·¥å…·
    â”œâ”€â”€ notification.js  # é€šçŸ¥å·¥å…·
    â””â”€â”€ format.js        # æ•°æ®æ ¼å¼åŒ–
```

## æ•°æ®æ¨¡å‹è®¾è®¡

### æ ¸å¿ƒæ•°æ®æ¨¡å‹

```go
// ç”¨æˆ·æ¨¡å‹ - åŒæ­¥GitLabç”¨æˆ·ä¿¡æ¯
type User struct {
    ID          uint      `json:"id" gorm:"primaryKey"`
    GitLabID    int       `json:"gitlab_id" gorm:"uniqueIndex"`
    Username    string    `json:"username"`
    Email       string    `json:"email"`
    Name        string    `json:"name"`
    Avatar      string    `json:"avatar"`
    Role        string    `json:"role"` // admin, teacher, student, guest
    CreatedAt   time.Time `json:"created_at"`
    UpdatedAt   time.Time `json:"updated_at"`
}

// ç­çº§æ¨¡å‹ - å¯¹åº”GitLab Group
type Class struct {
    ID          uint      `json:"id" gorm:"primaryKey"`
    Name        string    `json:"name"`
    Description string    `json:"description"`
    GitLabGroupID int     `json:"gitlab_group_id"`
    TeacherID   uint      `json:"teacher_id"`
    CreatedAt   time.Time `json:"created_at"`
    UpdatedAt   time.Time `json:"updated_at"`
}

// è¯¾é¢˜æ¨¡å‹ - å¯¹åº”GitLab Project
type Project struct {
    ID              uint      `json:"id" gorm:"primaryKey"`
    Name            string    `json:"name"`
    Description     string    `json:"description"`
    GitLabProjectID int       `json:"gitlab_project_id"`
    GitLabURL       string    `json:"gitlab_url"`
    RepositoryURL   string    `json:"repository_url"`
    ClassID         uint      `json:"class_id"`
    TeacherID       uint      `json:"teacher_id"`
    CreatedAt       time.Time `json:"created_at"`
    UpdatedAt       time.Time `json:"updated_at"`
}

// ä½œä¸šæ¨¡å‹ - åŸºäºGitLab Issueså’ŒCommits
type Assignment struct {
    ID              uint      `json:"id" gorm:"primaryKey"`
    Title           string    `json:"title"`
    Description     string    `json:"description"`
    ProjectID       uint      `json:"project_id"`
    GitLabIssueID   int       `json:"gitlab_issue_id"`
    DueDate         time.Time `json:"due_date"`
    RequiredFiles   string    `json:"required_files"`
    MaxFileSize     int64     `json:"max_file_size"`
    AllowedFileTypes string   `json:"allowed_file_types"`
    CreatedAt       time.Time `json:"created_at"`
    UpdatedAt       time.Time `json:"updated_at"`
}

// ä½œä¸šæäº¤æ¨¡å‹ - åŸºäºGitLab Commits
type AssignmentSubmission struct {
    ID            uint      `json:"id" gorm:"primaryKey"`
    AssignmentID  uint      `json:"assignment_id"`
    StudentID     uint      `json:"student_id"`
    CommitHash    string    `json:"commit_hash"`
    CommitMessage string    `json:"commit_message"`
    BranchName    string    `json:"branch_name"`
    FilesSubmitted string   `json:"files_submitted"`
    Status        string    `json:"status"` // submitted, reviewed, graded
    Score         int       `json:"score"`
    Feedback      string    `json:"feedback"`
    SubmittedAt   time.Time `json:"submitted_at"`
    ReviewedAt    *time.Time `json:"reviewed_at"`
}

// é€šçŸ¥æ¨¡å‹
type Notification struct {
    ID        uint      `json:"id" gorm:"primaryKey"`
    UserID    uint      `json:"user_id"`
    Type      string    `json:"type"`
    Title     string    `json:"title"`
    Content   string    `json:"content"`
    IsRead    bool      `json:"is_read"`
    CreatedAt time.Time `json:"created_at"`
}
```

## APIæ¥å£è®¾è®¡

### è®¤è¯æ¥å£
```
POST /api/auth/gitlab/login     # GitLab OAuthç™»å½•
POST /api/auth/gitlab/callback  # GitLab OAuthå›è°ƒ
POST /api/auth/refresh          # åˆ·æ–°Token
POST /api/auth/logout           # é€€å‡ºç™»å½•
```

### ç”¨æˆ·ç®¡ç†æ¥å£
```
GET  /api/users                 # è·å–ç”¨æˆ·åˆ—è¡¨
GET  /api/users/:id             # è·å–ç”¨æˆ·è¯¦æƒ…
PUT  /api/users/:id             # æ›´æ–°ç”¨æˆ·ä¿¡æ¯
POST /api/users/:id/role        # è®¾ç½®ç”¨æˆ·è§’è‰²
```

### ç­çº§ç®¡ç†æ¥å£
```
GET  /api/classes               # è·å–ç­çº§åˆ—è¡¨
POST /api/classes               # åˆ›å»ºç­çº§
PUT  /api/classes/:id           # æ›´æ–°ç­çº§ä¿¡æ¯
DELETE /api/classes/:id         # åˆ é™¤ç­çº§
POST /api/classes/:id/students  # æ·»åŠ å­¦ç”Ÿåˆ°ç­çº§
```

### è¯¾é¢˜ç®¡ç†æ¥å£
```
GET  /api/projects              # è·å–è¯¾é¢˜åˆ—è¡¨
POST /api/projects              # åˆ›å»ºè¯¾é¢˜
PUT  /api/projects/:id          # æ›´æ–°è¯¾é¢˜ä¿¡æ¯
DELETE /api/projects/:id        # åˆ é™¤è¯¾é¢˜
POST /api/projects/:id/students # æ·»åŠ å­¦ç”Ÿåˆ°è¯¾é¢˜
GET  /api/projects/:id/gitlab   # è·å–GitLabé¡¹ç›®ä¿¡æ¯
```

### ä½œä¸šç®¡ç†æ¥å£
```
GET  /api/assignments           # è·å–ä½œä¸šåˆ—è¡¨
POST /api/assignments           # åˆ›å»ºä½œä¸š
PUT  /api/assignments/:id       # æ›´æ–°ä½œä¸šä¿¡æ¯
DELETE /api/assignments/:id     # åˆ é™¤ä½œä¸š
POST /api/assignments/:id/submit # æäº¤ä½œä¸š
GET  /api/assignments/:id/submissions # è·å–ä½œä¸šæäº¤åˆ—è¡¨
```

### æ–‡æ¡£ç®¡ç†æ¥å£
```
GET  /api/documents             # è·å–æ–‡æ¡£åˆ—è¡¨
POST /api/documents             # åˆ›å»ºæ–‡æ¡£
PUT  /api/documents/:id         # æ›´æ–°æ–‡æ¡£
DELETE /api/documents/:id       # åˆ é™¤æ–‡æ¡£
POST /api/documents/:id/onlyoffice # OnlyOfficeç¼–è¾‘æ¥å£
```

### é€šçŸ¥ç®¡ç†æ¥å£
```
GET  /api/notifications         # è·å–é€šçŸ¥åˆ—è¡¨
PUT  /api/notifications/:id/read # æ ‡è®°é€šçŸ¥å·²è¯»
POST /api/notifications/read-all # æ ‡è®°å…¨éƒ¨å·²è¯»
```

## é¡¹ç›®å®æ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„æ­å»ºï¼ˆå·²å®Œæˆï¼‰
- âœ… æ­å»ºæµ‹è¯•ç¯å¢ƒï¼ˆGitLab CEã€OnlyOfficeã€PostgreSQLã€Redisï¼‰
- âœ… åŸºç¡€æ¶æ„æ­å»ºï¼ˆGoåç«¯ã€Vueå‰ç«¯æ¡†æ¶ï¼‰
- âœ… GitLab APIé›†æˆï¼ˆOAuthã€åŸºç¡€APIå°è£…ï¼‰
- âœ… ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆGitLabç”¨æˆ·ä½“ç³»é›†æˆï¼‰

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½å®ç°ï¼ˆå·²å®Œæˆï¼‰
- âœ… GitLabæ·±åº¦é›†æˆï¼ˆé¡¹ç›®ã€åˆ†æ”¯ã€æäº¤ç®¡ç†ï¼‰
- âœ… æƒé™ç³»ç»Ÿå®ç°ï¼ˆåŸºäºGitLabæƒé™æ¨¡å‹ï¼‰
- âœ… ç­çº§ç®¡ç†ï¼ˆGitLab Groupsæ˜ å°„ï¼‰
- âœ… è¯¾é¢˜ç®¡ç†ï¼ˆGitLab Projectsæ˜ å°„ï¼‰
- âœ… ä½œä¸šç®¡ç†ï¼ˆGitLab Issues/MR/Commitsï¼‰

### é˜¶æ®µä¸‰ï¼šæ•™è‚²åœºæ™¯å®Œå–„ï¼ˆå·²å®Œæˆï¼‰
- âœ… å­¦ä¹ è¿›åº¦è·Ÿè¸ªï¼ˆåŸºäºGitLab Activityï¼‰
- âœ… é€šçŸ¥ç³»ç»Ÿï¼ˆåŸºäºGitLab Webhookï¼‰
- âœ… æ–‡æ¡£ç®¡ç†ï¼ˆGitLab Wikié›†æˆï¼‰
- âœ… æƒé™åŒæ­¥ï¼ˆGitLabä¸æ•™è‚²è§’è‰²æ˜ å°„ï¼‰

### é˜¶æ®µå››ï¼šå‰ç«¯ç•Œé¢ä¼˜åŒ–ï¼ˆè¿›è¡Œä¸­ï¼‰
- ğŸ”„ åŸºäºè®¾è®¡è§„èŒƒå®ç°å‰ç«¯ç•Œé¢
- ğŸ”„ å…¬å‘Šé€šçŸ¥ç³»ç»Ÿå‰ç«¯å®ç°
- ğŸ”„ å“åº”å¼è®¾è®¡å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–
- ğŸ”„ OnlyOfficeç¼–è¾‘å™¨é›†æˆ

### é˜¶æ®µäº”ï¼šé›†æˆæµ‹è¯•å’Œéƒ¨ç½²
- ç³»ç»Ÿé›†æˆæµ‹è¯•
- æ€§èƒ½ä¼˜åŒ–ï¼ˆç¼“å­˜ã€å¹¶å‘ï¼‰
- å®‰å…¨åŠ å›ºï¼ˆGitLab OAuthã€æƒé™æ§åˆ¶ï¼‰
- éƒ¨ç½²ä¸Šçº¿ï¼ˆDocker Composeä¸€é”®éƒ¨ç½²ï¼‰
