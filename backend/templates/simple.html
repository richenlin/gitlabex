<!DOCTYPE html>
<html>
<head>
    <title>OnlyOffice 测试</title>
</head>
<body>
    <h1>OnlyOffice 文档编辑器测试</h1>
    <p>文档ID: {{.docID}}</p>
    <div>
        <h3>配置信息:</h3>
        <pre id="config-display">{{.configJSON}}</pre>
    </div>
    
    <div>
        <h3>OnlyOffice 编辑器:</h3>
        <div id="onlyofficeEditor" style="width: 100%; height: 600px; border: 1px solid #ccc;">
            <div style="text-align: center; padding: 50px;">正在加载OnlyOffice编辑器...</div>
        </div>
    </div>

    <script src="http://localhost:8000/web-apps/apps/api/documents/api.js"></script>
    <script>
        // 获取配置
        var configText = document.getElementById('config-display').textContent;
        var config = JSON.parse(configText);
        
        console.log('配置:', config);
        
        // 初始化编辑器
        try {
            new DocsAPI.DocEditor("onlyofficeEditor", config);
            console.log('编辑器初始化成功');
        } catch (error) {
            console.error('编辑器初始化失败:', error);
            document.getElementById('onlyofficeEditor').innerHTML = 
                '<div style="color: red; padding: 20px;">编辑器加载失败: ' + error.message + '</div>';
        }
    </script>
</body>
</html> 